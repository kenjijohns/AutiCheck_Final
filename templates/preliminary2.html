{% extends 'base.html' %} {% block content %}
<div class="flex justify-center mx-auto p-4 mt-2 sm:mt-0">
  <form
    method="POST"
    action="{{ url_for('preliminary2') }}"
    class="bg-white shadow-xl rounded-xl px-8 pt-6 pb-8 mb-4 w-full lg:w-1/2"
  >
    <div
      class="form-group flex flex-col md:flex-row items-start md:items-center"
    >
      <label for="family_diagnosed" class="md:w-1/2"
        >Has anyone in the family been diagnosed with Autism Spectrum
        Disorder?</label
      >
      <div class="relative w-full md:w-1/2">
        <select
          id="family_diagnosed"
          name="family_diagnosed"
          class="appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline"
        >
          <option value="" selected disabled>--</option>
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
        <div
          class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
        >
          <i class="fas fa-chevron-down"></i>
        </div>
      </div>
    </div>

    <div
      class="form-group flex flex-col md:flex-row items-start md:items-center mt-4"
    >
      <label for="who_completed_the_test" class="lg:w-1/2">
        Who is completing this test?</label
      >
      <div class="relative w-full md:w-1/2">
        <select
          id="who_completed_the_test"
          name="who_completed_the_test"
          class="appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline"
        >
          <option value="" selected disabled>--</option>
          <option value="Family Member">Family Member</option>
          <option value="Health Care Professional">
            Health Care Professional
          </option>
          <option value="Guardian">Guardian</option>
          <option value="Others">Others</option>
        </select>
        <div
          class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
        >
          <i class="fas fa-chevron-down"></i>
        </div>
      </div>
    </div>

    <div class="flex items-center justify-between mt-4">
      <a
        href="{{ url_for('preliminary1') }}"
        class="back-next-button text-center md:w-1/5 w-1/3 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-xl focus:outline-none focus:shadow-outline"
      >
        Back
      </a>
      <button
        type="submit"
        class="back-next-button md:w-1/5 w-1/3 bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded-xl focus:outline-none focus:shadow-outline"
      >
        Next
      </button>
    </div>
  </form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Get references to the select elements
    var familyDiagnosedSelect = document.getElementById("family_diagnosed");
    var whoCompletedSelect = document.getElementById("who_completed_the_test");

    // Add event listeners to the select elements
    familyDiagnosedSelect.addEventListener("change", function () {
      // Store the text of the selected option in sessionStorage
      var selectedOptionText =
        familyDiagnosedSelect.options[familyDiagnosedSelect.selectedIndex].text;
      sessionStorage.setItem("family_diagnosed", selectedOptionText);
      console.log(sessionStorage);
    });

    whoCompletedSelect.addEventListener("change", function () {
      // Store the text of the selected option in sessionStorage
      var selectedOptionText =
        whoCompletedSelect.options[whoCompletedSelect.selectedIndex].text;
      sessionStorage.setItem("who_completed_the_test", selectedOptionText);
      console.log(sessionStorage);
    });
  });
</script>

{% endblock %}
